apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../base
- ./ingress.yaml
- ./secrets.enc.yaml
configMapGenerator:
- behavior: merge
  literals:
  - enable_graphiql="false"
  - enable_graphql_introspection="true"
  name: api-configmap
images:
- name: graphql-api
  newName: ghcr.io/otomadb/graphql-api
  digest: sha256:1ce73c7470f1b23698a7f7459951589700cc10241611ae0fa07262cad5c1d5ba
- name: postgres-migration
  newName: ghcr.io/otomadb/postgres-migration
  newTag: 20231216122702_is_original
- name: meilisearch-syncer
  newName: ghcr.io/otomadb/meilisearch-syncer
  digest: sha256:a4f6946a6d58ac027b1795ebb98a65e8eb304260636ba9eb9d45da7e45177b65
- name: neo4j-syncer
  newName: ghcr.io/otomadb/neo4j-syncer
  digest: sha256:464a4dd88d281fc8fdf79f909fcda6349a3cde44f04d5f447c8a522723851025
- name: nicovideo-updater
  newName: ghcr.io/otomadb/nicovideo-updater
  digest: sha256:b71c15eda8a5d8d9148fb5d2aaacb064131cedc5b8da91da11d5a77bc175a48f
- name: ixgyohn
  newName: ghcr.io/otomadb/ixgyohn
  digest: sha256:98ac9c3b5d5f45d11f32cf1e125821698b5fe9438b2123dc0510572dc989bcf8
labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/env: prod
    app.kubernetes.io/managed-by: kustomize
